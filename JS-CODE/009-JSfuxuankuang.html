<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>复选框的全选和取消全选</title>
	</head>
	<body onload = "bindClick()">
		<script type="text/javascript">
			function checkall(){
				var checkbox = document.getElementById("checkbox");
				console.log(checkbox.checked);
				var checkboxes = document.getElementsByName("hobby");
				for(var i in checkboxes){
					checkboxes[i].checked = checkbox.checked;
				}	
			}
			function bindClick(){
				var checkboxes = document.getElementsByName("hobby");
				for(var i = 0;i<checkboxes.length;i++){
					var count = checkboxes.length;
					/* 每一个复选框都绑定一个方法 */
					checkboxes[i].onclick = function(){
						var checkedcount = 0;
						for(var j = 0;j<checkboxes.length;j++){
							if(checkboxes[j].checked)
								checkedcount++;
						}
						document.getElementById("checkbox").checked = (count == checkedcount);		
					}
				}
			}
		</script>
		<input type="checkbox" name="" id="checkbox" value="" onclick="checkall()" /><br>
		<input type="checkbox" name="hobby" id="" value="1" />1<br>
		<input type="checkbox" name="hobby" id="" value="2" />2<br>
		<input type="checkbox" name="hobby" id="" value="3" />3<br>
		<input type="checkbox" name="hobby" id="" value="4" />4<br>
		<input type="checkbox" name="hobby" id="" value="5" />5<br>
		<input type="checkbox" name="hobby" id="" value="6" />6<br>
		<input type="checkbox" name="hobby" id="" value="7" />7<br>
		<input type="checkbox" name="hobby" id="" value="8" />8<br>
	</body>
</html>
